<div class="container">
  <h2>Vehicle Details</h2>
  <mat-card>
    <div id="carouselExampleControls" data-interval="false" class="carousel" styl="margin=auto" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item"
             *ngFor="let photo of this.images let i = index"
             [ngClass]="{'active': i == 0 }">
          <img [src]="photo.imageURL" class="d-block w-100">
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
    <mat-card-title class="mt-3">{{vehicle?.manufactureYear}} {{vehicle?.make}} {{vehicle?.model}}</mat-card-title>
    <h2 class="priceText mb-0">Price: {{vehicle?.price | currency: 'EUR':true:'1.0-2'}} </h2>
    <div *ngIf="token">
      <button type="button" *ngIf="vehicle?.active && vehicle?.userID != this.userID" (click)="buy()" class="btn btn-success mb-3"><i class="bi bi-cart"></i> Buy vehicle</button>
      <button type="button" *ngIf="!vehicle?.active" disabled class="btn btn-outline-secondary mb-3 mt-2"><i class="bi bi-cart"></i> Vehicle Sold</button>
    </div>
    <div *ngIf="!token">
      <button type="button" disabled class="btn btn-outline-secondary mb-3 mt-2"><i class="bi bi-cart"></i> Login to buy</button>
    </div>
    <div class="d-flex row">
      <div class="col d-flex-column">
        <p>KM count: {{vehicle?.km | number}}</p>
        <p>Condition: {{vehicle?.condition}}</p>
        <p>Color: {{vehicle?.color}}</p>
        <p>Type: {{vehicle?.type}}</p>
        <p>Cubic capacity: {{vehicle?.cc}} cmc</p>
      </div>
      <div class="col d-flex-column">
        <p>VIN: {{vehicle?.vin}}</p>
        <p>Country of provenience: {{vehicle?.country}}</p>
        <p>Fuel: {{vehicle?.fuel}}</p>
        <p>Power: {{vehicle?.power}} BHP</p>
        <p>Post date: {{vehicle?.postDate}}</p>
      </div>
      <h2 class="font-weight-bold"><i class="bi bi-pencil-square"></i> Description: </h2>
      <p>{{vehicle?.description}}</p>
      <h2 class="font-weight-bold"><i class="bi bi-person-circle"></i> Seller: </h2>
      <h3 class="font-weight-bold"> <img [src]="userPic" width="100px" height="100px" class="me-3">{{user?.firstname}} {{user?.lastname}}</h3>
      <h3><i class="bi bi-telephone-outbound-fill"></i> Phone number: <a [href]="'tel:' + user?.phonenumber">{{user?.phonenumber}}</a></h3>
      <div *ngIf="this.company">
        <h2 class="font-weight-bold mt-3"><i class="bi bi-check-circle-fill"></i> Company:</h2>
        <h3>Company name: {{this.company?.companyName}}</h3>
        <h3>Address: <a [href]="'http://maps.google.com/?q=' + this.company?.address">{{this.company?.address}}</a></h3>
      </div>
      <div *ngIf="this.user?.branchID">
        <h2 class="font-weight-bold mt-3"><i class="bi bi-building"></i> Branch: </h2>
        <h3>Branch name: <a href="/branch/{{branch?.id}}">{{branch?.name}}</a></h3>
        <h3>Address: <a [href]="'http://maps.google.com/?q=' + branch?.address">{{branch?.address}}</a></h3>
        <h3><i class="bi bi-telephone-outbound-fill"></i> Phone number: <a [href]="'tel:' + branch?.phoneNumber">{{branch?.phoneNumber}}</a></h3>
      </div>
    </div>
  </mat-card>
</div>
